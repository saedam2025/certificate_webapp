<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê°•ì‚¬ ê²½ë ¥ì¦ëª…ì„œ ì‹ ì²­</title>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Nanum Gothic', sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 20px 10px;
    }

    .required-star::before {
      content: "*";
      color: orange;
      margin-right: 4px;
      font-weight: bold;
    }

    .container {
      width: 500px;
      max-width: 100%;
      background-color: #fff;
      padding: 24px;
      border-radius: 12px;
      border: 1px solid #ccc;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 18px;
      color: #1a2b4c;
    }

    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px 20px;
    }

    .full-width {
      grid-column: 1 / -1;
    }

    label {
      display: flex;
      flex-direction: column;
      font-size: 12px;
      color: #555;
    }

    label span {
      display: flex;
      align-items: center;
      font-size: 12px;
      font-weight: bold;
      color: #444;
      margin-bottom: 6px;
    }

    input, select {
      padding: 6px 8px;
      font-size: 12px;
      border: 1px solid #ddd;
      background-color: #fafafa;
      border-radius: 4px;
    }

    .inline-group {
      grid-column: 1 / -1;
      display: flex;
      gap: 14px;
    }

    .inline-group > label {
      flex: 1;
    }

    button {
      grid-column: 1 / -1;
      padding: 10px;
      font-size: 14px;
      background-color: #0055cc;
      color: white;
      border: 1px solid #0055cc;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 6px;
    }

    button:hover {
      background-color: #3f85ff;
      border-color: #3f85ff;
    }
  </style>

  <script>
    function toggleEndDateInput(selectElement) {
      const endDateWrapper = document.getElementById("end-date-wrapper");
      const endDateInput = document.getElementById("end-date");
      if (selectElement.value === "í˜„ì¬ê¹Œì§€") {
        endDateWrapper.style.display = "none";
        endDateInput.disabled = true;
      } else {
        endDateWrapper.style.display = "flex";
        endDateInput.disabled = false;
      }
    }

    function toggleReasonSelect() {
      const certType = document.querySelector('select[name="ì¦ëª…ì„œì¢…ë¥˜"]');
      const reasonWrapper = document.getElementById("reason-wrapper");
      const reasonSelect = reasonWrapper.querySelector('select');
      if (certType.value === "ê°•ì‚¬ í•´ì´‰ì¦ëª…ì„œ") {
        reasonWrapper.style.display = "flex";
        reasonSelect.disabled = false;
      } else {
        reasonWrapper.style.display = "none";
        reasonSelect.disabled = true;
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      document.querySelector('select[name="ì¢…ë£Œì¼ì„ íƒ"]')?.addEventListener('change', function () {
        toggleEndDateInput(this);
      });
      document.querySelector('select[name="ì¦ëª…ì„œì¢…ë¥˜"]')?.addEventListener('change', toggleReasonSelect);
      toggleEndDateInput(document.querySelector('select[name="ì¢…ë£Œì¼ì„ íƒ"]'));
      toggleReasonSelect();
    });
  </script>

<script>
    document.addEventListener('DOMContentLoaded', ()=> {
        document.getElementById('end-date').max = new Date().toISOString().slice(0,10);
    });
</script>

</head>

<body>

<br>
  <div style="display: flex; justify-content: center; align-items: flex-start; gap: 24px; flex-wrap: wrap;">

    <!-- ì™¼ìª½: ì…ë ¥ í¼ -->
    <div class="container">

      <h1>ê°•ì‚¬ ê²½ë ¥ì¦ëª…ì„œ ì‹ ì²­</h1>

      <form method="POST" action="/{{ system }}/submit">
        <label class="full-width"><span class="required-star">ì¦ëª…ì„œ ì¢…ë¥˜</span>
          <select name="ì¦ëª…ì„œì¢…ë¥˜" required>
            <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
            <option value="ê°•ì‚¬ í™œë™ì¦ëª…ì„œ">ê°•ì‚¬ í™œë™ì¦ëª…ì„œ</option>
            <option value="ê°•ì‚¬ í•´ì´‰ì¦ëª…ì„œ">ê°•ì‚¬ í•´ì´‰ì¦ëª…ì„œ</option>
          </select>
        </label>

        <label><span class="required-star">ì„±ëª…</span>
          <input type="text" name="ì„±ëª…" required>
        </label>

        <label><span class="required-star">ì£¼ë¯¼ë²ˆí˜¸</span>
          <input type="text" name="ì£¼ë¯¼ë²ˆí˜¸" required pattern="\d{6}-\d{7}" placeholder="ì˜ˆ: 901010-1234567">
        </label>

        <label><span class="required-star">ì§ì±…</span>
          <select name="ì§ì±…" required>
            <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
            <option value="ëŠ˜ë´„í•™êµ ì„ íƒí˜• ê°•ì‚¬">ëŠ˜ë´„í•™êµ ì„ íƒí˜• ê°•ì‚¬</option>
            <option value="ëŠ˜ë´„í•™êµ ë§ì¶¤í˜• ê°•ì‚¬">ëŠ˜ë´„í•™êµ ë§ì¶¤í˜• ê°•ì‚¬</option>
            <option value="ë°©ê³¼í›„ ê°•ì‚¬">ë°©ê³¼í›„ ê°•ì‚¬</option>
          </select>
        </label>

        <label class="full-width"><span class="required-star">ìíƒì£¼ì†Œ</span>
          <input type="text" name="ìíƒì£¼ì†Œ" required>
        </label>

        <label><span class="required-star">ê·¼ë¬´ì‹œì‘ì¼</span>
          <input type="date" name="ê·¼ë¬´ì‹œì‘ì¼" required>
        </label>

        <div class="inline-group">
          <label><span class="required-star">ê·¼ë¬´ì¢…ë£Œì¼ ì„ íƒ</span>
            <select name="ì¢…ë£Œì¼ì„ íƒ">
              <option value="ë‚ ì§œì§€ì •">ë‚ ì§œ ì§€ì •</option>
              <option value="í˜„ì¬ê¹Œì§€">í˜„ì¬ê¹Œì§€(í˜„ì¬ ê·¼ë¬´ ì¤‘ì¸ ê²½ìš°)</option>
            </select>
          </label>
          <label id="end-date-wrapper"><span class="required-star">ê·¼ë¬´ì¢…ë£Œì¼</span>
            <input type="date" name="ê·¼ë¬´ì¢…ë£Œì¼" id="end-date" required>
          </label>
        </div>

        <label><span class="required-star">ê·¼ë¬´ì¥ì†Œ</span>
          <input type="text" name="ê·¼ë¬´ì¥ì†Œ" required>
        </label>

        <label><span class="required-star">ê°•ì˜ê³¼ëª©</span>
          <input type="text" name="ê°•ì˜ê³¼ëª©" required>
        </label>

        <div class="inline-group">
          <label><span class="required-star">ì¦ëª…ìš©ë„</span>
            <select name="ìš©ë„" required>
              <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
              <option value="í•™êµì œì¶œìš©">í•™êµì œì¶œìš©</option>
              <option value="ê¸°ê´€ì œì¶œìš©">ê¸°ê´€ì œì¶œìš©</option>
              <option value="ë³´í—˜ê³µë‹¨ì œì¶œìš©">ë³´í—˜ê³µë‹¨ì œì¶œìš©</option>
            </select>
          </label>
          <label id="reason-wrapper" style="display:none;"><span class="required-star">ê³„ì•½ì¢…ë£Œì‚¬ìœ </span>
            <select name="ì¢…ë£Œì‚¬ìœ " required>
              <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
              <option value="ê°œì¸ì‚¬ì •">ê°œì¸ì‚¬ì •</option>
              <option value="ê³„ì•½ë§Œë£Œ">ê³„ì•½ë§Œë£Œ</option>
              <option value="ê³„ì•½í•´ì§€">ê³„ì•½í•´ì§€</option>
            </select>
          </label>
        </div>

<label class="full-width">
  <span class="required-star">ì´ë©”ì¼ ì£¼ì†Œ</span>
  <input type="email" name="ì´ë©”ì¼ì£¼ì†Œ" required
         pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
         placeholder="ì˜ˆ: example@domain.com"
         title="ì´ë©”ì¼ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜ˆ: example@domain.com">
</label>


        <button type="submit">ì‹ ì²­í•˜ê¸°</button>
      </form>
    </div>

<script>    // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ ë° 'ì‹ ì²­ ì²˜ë¦¬ì¤‘...' ë²„íŠ¼ ì²˜ë¦¬
window.onload = function () {
  const form = document.querySelector("form");
  const submitBtn = form.querySelector("button[type='submit']");

  // ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬
  form.addEventListener("submit", function (e) {
    const certType = form.querySelector('select[name="ì¦ëª…ì„œì¢…ë¥˜"]').value;
    const endDateSelect = form.querySelector('select[name="ì¢…ë£Œì¼ì„ íƒ"]').value;

    // â›” í•´ì´‰ì¦ëª…ì„œ + í˜„ì¬ê¹Œì§€ ì„ íƒ ë°©ì§€
    if (certType === "ê°•ì‚¬ í•´ì´‰ì¦ëª…ì„œ" && endDateSelect === "í˜„ì¬ê¹Œì§€") {
      alert("ê°•ì‚¬ í•´ì´‰ì¦ëª…ì„œì˜ ê²½ìš° ê·¼ë¬´ì¢…ë£Œì¼ì„ 'í˜„ì¬ê¹Œì§€'ë¡œ ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì •í™•í•œ ë‚ ì§œë¥¼ ì§€ì •í•´ì£¼ì„¸ìš”.");
      e.preventDefault();
      return;
    }

    const emailInput = form.querySelector('input[name="ì´ë©”ì¼ì£¼ì†Œ"]');
    const email = emailInput.value.trim();
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (!emailRegex.test(email)) {
      alert("ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì˜ˆ: example@domain.com");
      emailInput.focus();
      e.preventDefault(); // ì œì¶œ ë§‰ê¸°
      return;
    }

    // í†µê³¼í•˜ë©´ ë²„íŠ¼ ë¹„í™œì„±í™”
    submitBtn.disabled = true;
    submitBtn.innerText = "ì‹ ì²­ ì²˜ë¦¬ ì¤‘...";
  });

  // ì¢…ë£Œì¼ í† ê¸€
  const endDateSelect = document.querySelector('select[name="ì¢…ë£Œì¼ì„ íƒ"]');
  const certTypeSelect = document.querySelector('select[name="ì¦ëª…ì„œì¢…ë¥˜"]');

  if (endDateSelect) {
    endDateSelect.addEventListener('change', function () {
      toggleEndDateInput(this);
    });
    toggleEndDateInput(endDateSelect);
  }

  if (certTypeSelect) {
    certTypeSelect.addEventListener('change', toggleReasonSelect);
    toggleReasonSelect();
  }

  // ì²˜ìŒ ë¡œë”© ì‹œ ë²„íŠ¼ í™œì„±í™”
  if (submitBtn) {
    submitBtn.disabled = false;
    submitBtn.innerText = "ì‹ ì²­í•˜ê¸°";
  }
};
</script>


    <!-- ì˜¤ë¥¸ìª½ ìœ ì˜ì‚¬í•­ ë§í’ì„  -->
    <div style="position: relative; width: 280px; text-align: center; margin-top: 500px;">
      <div style="
        position: absolute;
        top: -200px;
        left: 50%;
        transform: translateX(-50%);
        background: #fff;
        border: 1px solid #ccc;
        padding: 14px 18px;
        border-radius: 16px;
        font-size: 12px;
        font-family: 'Nanum Gothic', sans-serif;
        color: #333;
        box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
        width: 220px;
        z-index: 1;
      ">
        <div style="text-align: left; line-height: 2.2;">
<span style="
  display: inline-block;
  width: 195px;
  border: 1px solid #ccc;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: bold;
  background-color: #fdfdfd;
  color: #1a2b4c;
  text-align: center;
  margin-top: 8px;
">
  ì¦ëª…ì‹ ì²­ ìœ ì˜ì‚¬í•­<br>
</span>

  <br><br>

  <span style="display: block; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    1. ì…ë ¥í•œ ë‚´ìš©ì„ ì‚¬ì‹¤í™•ì¸ í›„ ë°œê¸‰ë©ë‹ˆë‹¤.
  </span>
  <span style="display: block; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    2. ì…ë ¥í•œ ë‚´ìš© ì¤‘ í—ˆìœ„ì‚¬ì‹¤ì´ ìˆì„ ì‹œ
  </span>
  <span style="display: block; padding-left: 1.5em; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    ë°œê¸‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  </span>
  <span style="display: block; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    3. ì£¼ì†Œ ë° ë‚´ìš© ë“±ì„ ë˜ë„ë¡ ì •í™•íˆ
  </span>
  <span style="display: block; padding-left: 1.5em; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    ì…ë ¥í•˜ì„¸ìš”.
  </span>
  <span style="display: block; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    4. ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ì¦ëª…ì„œ PDF íŒŒì¼ì´
  </span>
  <span style="display: block; padding-left: 1.5em; font-family: 'Nanum Gothic', sans-serif; font-size: 12px;">
    ì „ì†¡ë©ë‹ˆë‹¤.
  </span>

<div style="text-align: center; margin-top: 12px;">
  <span style="
    display: inline-block;
    font-size: 13px;
    font-weight: bold;
    background-color: #ffffff;
    color: #1a2b4c;
    padding: 8px 16px;
    border-radius: 6px;
  ">
    ë°œê¸‰ë¬¸ì˜: ğŸ“ 031-8016-1900
  </span>
</div>
  <br>
  <img src="http://www.saedam.org/img_sub/logo.gif" alt="ë¡œê³ " style="display: block; margin: 0 auto; height: 40px; width: auto;">
</div>
</div>

</body>
</html>
