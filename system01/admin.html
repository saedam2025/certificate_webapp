<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìƒˆë‹´ ê°•ì‚¬ê²½ë ¥ì¦ëª…ì„œ ë°œê¸‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
<style>
 
body {
  font-family: 'Nanum Gothic', sans-serif;
  background-color: #000; /* í•„ìš” ì‹œ ì œê±° ê°€ëŠ¥ */
  background-image: url("https://www.saedam.org/img_sub/Kakao_friendsbg4k.png");
  background-repeat: repeat;
  background-size: auto;
  background-position: center top;
  margin: 0;
  padding: 0;
}
    .container {
      width: 1700px;   /* âœ… ë©”ì¸ ë°ì´í„° í…Œì´ë¸” ê°€ë¡œí¬ê¸°===================== */
      margin: 20px auto;
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      margin-top: 250px; /* âœ… ë°”ê¹¥ìª½ ìœ„ ì—¬ë°± */
    }

    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
      word-break: break-word;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
      font-size: 13px;
    }

    th {
      background-color: #fce473;
    }

    /* ë§ˆìš°ìŠ¤ì˜¤ë²„ ì‹œ ì• ë‹ˆë©”ì´ì…˜ */
    tbody tr {
      transition: all 0.3s ease;
    }

    tbody tr:hover {
      background-color: #fff8cc;
    }

    tbody tr:hover td {
      position: relative;
    }

    tbody tr:hover td::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: orange;
    }

  /* ê³µí†µ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
a.btn, button.btn {
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 500;
  border-radius: 6px;
  border: 1px solid #ccc;
  background-color: white;
  color: #333;
  text-decoration: none;
  cursor: pointer;
  display: inline-block;
  transition: all 0.3s ease;
}

/* ì‚­ì œ ë²„íŠ¼ - hover ì‹œ ë¹¨ê°„ ê³„ì—´ */
a.btn.btn-delete, button.btn.btn-delete {
  color: #f67280;
}
a.btn.btn-delete:hover, button.btn.btn-delete:hover {
  background-color: #f67280;
  color: white;
  border-color: #f67280;
}

/* ìˆ˜ì •ë²„íŠ¼ - hover ì‹œ ë¯¼íŠ¸ ê³„ì—´ */
button.save {
  color: #55b79a;
}
button.save:hover {
  background-color: #a8e6cf;
  color: #2f4f4f;
  border-color: #a8e6cf;
}

/* ë°œê¸‰ ë²„íŠ¼ - hover ì‹œ íŒŒë€ ê³„ì—´ */
a.btn.issue {
  color: #4a90e2;
}
a.btn.issue:hover {
  background-color: #4a90e2;
  color: white;
  border-color: #4a90e2;
}

    input, select, textarea {
      border: none;
      background: transparent;
      width: 100%;
      font-family: inherit;
      font-size: inherit;
      text-align: center;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
    }

    .pagination {
      text-align: center;
      margin-top: 20px;
    }

    .pagination a, .pagination span {
      margin: 0 4px;
      font-weight: bold;
      color: #333;
    }

    img {
      width: auto; /* ì¹´ì¹´ì˜¤ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì • */
      height: auto;
    }


.summary-pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 5px;
  font-size: 14px;
}

.summary {
  background-color: #fff;
  color: #007bff; /* â† íŒŒë€ í…ìŠ¤íŠ¸ */
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 6px 12px;
  font-size: 14px;
  line-height: 1.4;
  margin-left: 10px;
  margin-top: 20px;
  text-align: left;
  display: inline-block;
}

.pagination a, .pagination span {
  display: inline-block;
  margin: 0 4px;
  padding: 6px 10px;
  border-radius: 4px;
  font-size: 14px;
  text-decoration: none;
  border: 1px solid #ccc;
}

.pagination .current-page {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

.pdf-link {
  text-decoration: none;      /* ë°‘ì¤„ ì œê±° */
  color: #333;                /* ì¼ë°˜ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
  padding: 4px 8px;           /* í´ë¦­ ì˜ì—­ ë„‰ë„‰íˆ */
  border-radius: 4px;         /* ëª¨ì„œë¦¬ ì•½ê°„ ë‘¥ê¸€ê²Œ */
  transition: background-color 0.3s;
}

.pdf-link:hover {
  color: #ff69b4; /* ë°ì€ í•‘í¬ (hotpink) */
}

#floatingContainer {   /* ë‘¥ë‘¥ ìºë¦­í„°ì™€ ë§í’ì„   */
  position: absolute;
  top: 122px;   /* ë‘¥ë‘¥ ìºë¦­í„° ìƒí•˜ìœ„ì¹˜  */
  left: 100px;
  z-index: 9999;
  cursor: pointer;
  pointer-events: auto;
  transition: top 2s ease-in-out, left 2s ease-in-out;
}

#floatingAlert {
  max-height: 130px;
  object-fit: contain;
  display: block;
}

#floatingBalloon {
  position: absolute;
  top: -40px;  /* -ê°’ì´ í´ìˆ˜ë¡ ìºë¦­í„°ì™€ ê°„ê²©ì»¤ì§ */
  left: 50%;
  transform: translateX(-50%);
  background: #fff;
  border: 1px solid #ccc;
  padding: 4px 14px; /* í’ì„  ê°€ë¡œ ì„¸ë¡œ ì—¬ë°±í¬ê¸° */
  font-size: 20px;
  line-height: 1.1;
  font-family: 'Dongle', sans-serif;   /* Dongle í°íŠ¸ */
  border-radius: 16px;
  white-space: nowrap;
  box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
  color: #4a90e2;   /* í°íŠ¸ì»¬ëŸ¬ */
}

#floatingBalloon::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 10px solid #fff;
  filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1));
}

/* êµ¬ë¦„ ì´ë¯¸ì§€ ìœ„ì¹˜ ë° í¬ê¸° */
#cloudContainer {
  position: absolute;     /* í˜ì´ì§€ ìœ„ì— ê³ ì •ë˜ë„ë¡ */
  top: 0;
  left: 0;
  width: 100%;
  height: 120px;           /* êµ¬ë¦„ ë†’ì´ ì˜ì—­ ì„¤ì • */
  pointer-events: none;
  z-index: 0;              /* ë°°ê²½ ìš”ì†Œì²˜ëŸ¼ ë’¤ë¡œ */
}

.floatingCloud {
  position: absolute;
  width: 160px;
  opacity: 0.95;
  animation: floatCloud 4s ease-in-out infinite;
}

/* ìœ„ì•„ë˜ êµ¬ë¦„ ë‘¥ì‹¤ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes floatCloud {
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-10px); }
  100% { transform: translateY(0); }
}


</style>


</head>
<body>

  <!-- ìºë¦­í„° ì‚½ì… ë°‘ì— ë‘¥ë‘¥ëœ¨ê¸° ìŠ¤í¬ë¦½íŠ¸ ìœ—ìª½ì— ìœ„ì¹˜í•´ì•¼í•¨. -->
{% if pending_count > 0 %}
  <div id="floatingContainer">
    <div id="floatingBalloon">ë°œê¸‰ì‹ ì²­ {{ pending_count }}ê±´ìš”~!</div>
    <img id="floatingAlert" src="" alt="ë°œê¸‰í•´ì•¼í•´ìš”!" title="ë“œë˜ê·¸ ê°€ëŠ¥í•´ìš”!">
  </div>
{% endif %}

<div id="cloudContainer">
  <img src="https://www.saedam.org/img_sub/cloud01.png" class="floatingCloud" style="top: 40px; left: 15%;">
  <img src="https://www.saedam.org/img_sub/cloud02.png" class="floatingCloud" style="top: 110px; left: 65%;">
  <img src="https://www.saedam.org/img_sub/cloud03.png" class="floatingCloud" style="top: 20px; left: 90%;">
</div>

  <!-- ìƒë‹¨ ìºë¦­í„° ì´ë¯¸ì§€ ë° ì œëª© -->
  <div class="header">

<!-- ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸ ê²¹ì¹˜ê¸° êµ¬ì¡° -->
<div style="position: relative; display: flex; justify-content: center; margin-top: 40px;">


  <!-- í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ -->
  <h1 style="
    position: absolute;
    top: -68px;  /* â† ì´ë¯¸ì§€ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì–¼ë§ˆë‚˜ ë–¨ì–´ì§ˆì§€ */
    left: 50%;
    transform: translateX(-50%);
    font-size: 32px;
    font-weight: bold;
    color: #333;
    background-color: rgba(255, 255, 255, 0.7);  /* ì½ê¸° ì‰½ê²Œ íë¦° ë°°ê²½ */
    padding: 10px 216px;
    border-radius: 10px;
    white-space: nowrap;
  ">
    ìƒˆë‹´ ê°•ì‚¬ê²½ë ¥ì¦ëª…ì„œ ë°œê¸‰ì‹œìŠ¤í…œ
  </h1>
</div>
 </div>

  <div class="container">

  <table>
    <thead>
      <tr>
        <th style="width: 30px; height: 35px;">No</th>
        <th style="width: 70px;">ì‹ ì²­ì¼</th>
        <th style="width: 100px;">ì¦ëª…ì„œì¢…ë¥˜</th>
        <th style="width: 70px;">ì„±ëª…</th>
        <th style="width: 100px;">ì£¼ë¯¼ë²ˆí˜¸</th>
        <th style="width: 120px;">ì§ì±…</th>
        <th style="width: 80px;">ê³¼ëª©</th>
        <th style="width: 85px;">ìš©ë„</th>
        <th style="width: 100px;">ì¥ì†Œ</th>
        <th style="width: 80px;">ê·¼ë¬´ì‹œì‘ì¼</th>
        <th style="width: 80px;">ê·¼ë¬´ì¢…ë£Œì¼</th>
        <th style="width: 30px;">ë©”ì¼</th>
        <th style="width: 70px;">ì¢…ë£Œì‚¬ìœ </th>
        <th style="width: 85px;">ìƒíƒœ<br>(ë°œê¸‰ë²ˆí˜¸)</th>
        <th style="width: 165px;">ì‘ì—…</th>
      </tr>
    </thead>
    <tbody>
      {% for row in submissions %}
      <form method="POST" action="/{{ system }}/update/{{ loop.index0 + (page - 1) * 10 }}">
      <input type="hidden" name="page" value="{{ page }}">
        <tr>
          <td style="height: 35px;">{{ (total_count - ((page - 1) * 10 + loop.index0)) }}</td>
          {% if row.ìƒíƒœ == "ëŒ€ê¸°" %}
            <td><input type="text" name="ì‹ ì²­ì¼" value="{{ row.ì‹ ì²­ì¼ }}" readonly></td>
            <td><input type="text" name="ì¦ëª…ì„œì¢…ë¥˜" value="{{ row.ì¦ëª…ì„œì¢…ë¥˜ }}"></td>
            <td><input type="text" name="ì„±ëª…" value="{{ row.ì„±ëª… }}" title="{{ row.ìíƒì£¼ì†Œ }}"></td>
            <td><input type="text" name="ì£¼ë¯¼ë²ˆí˜¸" value="{{ row.ì£¼ë¯¼ë²ˆí˜¸ }}"></td>
            <td><input type="text" name="ì§ì±…" value="{{ row.ì§ì±… }}"></td>
            <td><input type="text" name="ê°•ì˜ê³¼ëª©" value="{{ row.ê°•ì˜ê³¼ëª© }}"></td>
            <td><input type="text" name="ìš©ë„" value="{{ row.ìš©ë„ }}"></td>
            <td><input type="text" name="ê·¼ë¬´ì¥ì†Œ" value="{{ row.ê·¼ë¬´ì¥ì†Œ }}"></td>
            <td><input type="text" name="ê·¼ë¬´ì‹œì‘ì¼" value="{{ row.ê·¼ë¬´ì‹œì‘ì¼ }}"></td>
            <td><input type="text" name="ê·¼ë¬´ì¢…ë£Œì¼" value="{{ row.ê·¼ë¬´ì¢…ë£Œì¼ }}"></td>
<td>
  <!-- ìˆ¨ì€ input í•„ë“œ -->
  <input type="text" name="ì´ë©”ì¼ì£¼ì†Œ" class="email-input" value="{{ row.ì´ë©”ì¼ì£¼ì†Œ }}" style="display: none;">

  <!-- í˜„ì¬ ì´ë©”ì¼ í…ìŠ¤íŠ¸ ì¶œë ¥ -->
  <span class="email-text">{{ row.ì´ë©”ì¼ì£¼ì†Œ }}</span>

  <!-- ë©”ì¼ ì•„ì´ì½˜ (í´ë¦­ ì‹œ í¸ì§‘) -->
  <img src="https://www.saedam.org/img_sub/mail.png" alt="ë©”ì¼" title="ë©”ì¼ì£¼ì†Œ ìˆ˜ì •"
       style="height: 15px; vertical-align: middle; cursor: pointer;"
       onclick="editEmail(this)">
</td>
            <td><input type="text" name="ì¢…ë£Œì‚¬ìœ " value="{{ row.ì¢…ë£Œì‚¬ìœ  }}"></td>
          {% else %}
            <td>{{ row.ì‹ ì²­ì¼ }}</td>
            <td>{{ row.ì¦ëª…ì„œì¢…ë¥˜ }}</td>
            <td title="{{ row.ìíƒì£¼ì†Œ }}">{{ row.ì„±ëª… }}</td>
            <td>{{ row.ì£¼ë¯¼ë²ˆí˜¸ }}</td>
            <td>{{ row.ì§ì±… }}</td>     
            <td>{{ row.ê°•ì˜ê³¼ëª© }}</td>
            <td>{{ row.ìš©ë„ }}</td>
            <td>{{ row.ê·¼ë¬´ì¥ì†Œ }}</td>
            <td>{{ row.ê·¼ë¬´ì‹œì‘ì¼ }}</td>
            <td>{{ row.ê·¼ë¬´ì¢…ë£Œì¼ }}</td>
                 <td><img src="https://www.saedam.org/img_sub/mail.png" alt="ë©”ì¼" title="{{ row.ì´ë©”ì¼ì£¼ì†Œ }}" style="height: 15px; vertical-align: middle;"></td>
            <td>{{ row.ì¢…ë£Œì‚¬ìœ  }}</td>
          {% endif %}
<td>
  {% if row.ìƒíƒœ == "ë°œê¸‰ì™„ë£Œ" and row.ë°œê¸‰ë²ˆí˜¸ %}
<a class="pdf-link" href="/{{ system }}/pdf/{{ row.ë°œê¸‰ë²ˆí˜¸ }}_{{ row.ì„±ëª… }}_{{ row.ì¦ëª…ì„œì¢…ë¥˜.replace(' ', '') }}.pdf" target="_blank">
  {{ row.ë°œê¸‰ë²ˆí˜¸ }}
</a>
  {% else %}
    ë°œê¸‰ëŒ€ê¸°
  {% endif %}
</td>
          <td>
            {% if row.ìƒíƒœ == "ëŒ€ê¸°" %}
              <a href="/{{ system }}/delete/{{ loop.index0 + (page - 1) * 10 }}?page={{ page }}" class="btn btn-delete">ì‚­ì œ</a>
              <button type="submit" class="btn save">ìˆ˜ì •</button>
              <a href="/{{ system }}/generate/{{ loop.index0 + (page - 1) * 10 }}?page={{ page }}" class="btn issue generate-btn">ë°œê¸‰</a>
            {% else %}
              ë°œê¸‰ì¼: {{ row.ë°œê¸‰ì¼ }}
            {% endif %}
          </td>
        </tr>
      </form>
      {% endfor %}
    </tbody>
  </table>

<div class="summary-pagination">
  <div class="summary">
    ì´ ì‹ ì²­ {{ total_count }}ê±´ /
    ë°œê¸‰ì™„ë£Œ {{ issued_count }}ê±´ /
    ë°œê¸‰ëŒ€ê¸° {{ pending_count }}ê±´  
<a href="/{{ system }}/logout" style="text-decoration: none; border: none; margin-left: 20px;">
  <img src="https://www.saedam.org/img_sub/logout2.png" alt="ë¡œê·¸ì•„ì›ƒ" title="ë¡œê·¸ì•„ì›ƒ" style="height: 30px; vertical-align: middle;">
</a>
  </div>

<!-- âœ… ê°œì„ ëœ í˜ì´ì§€ë„¤ì´ì…˜ -->
<div class="pagination">
  {% if page > 1 %}
    <a href="/{{ system }}/admin/{{ page - 1 }}">Â« Prev</a>
  {% endif %}

  {% set start_page = page - 2 %}
  {% set end_page = page + 2 %}

  {# ì‹œì‘ í˜ì´ì§€ ì¡°ì •: 1ë³´ë‹¤ ì‘ìœ¼ë©´ ë³´ì • #}
  {% if start_page < 1 %}
    {% set end_page = end_page + (1 - start_page) %}
    {% set start_page = 1 %}
  {% endif %}

  {# ë í˜ì´ì§€ ì¡°ì •: total_pagesë³´ë‹¤ í¬ë©´ ë³´ì • #}
  {% if end_page > total_pages %}
    {% set start_page = start_page - (end_page - total_pages) %}
    {% set end_page = total_pages %}
  {% endif %}

  {# ë‹¤ì‹œ í•œ ë²ˆ ì‹œì‘ í˜ì´ì§€ 1ë³´ë‹¤ ì‘ì•„ì¡Œì„ ê²½ìš° ë³´ì • #}
  {% if start_page < 1 %}
    {% set start_page = 1 %}
  {% endif %}

  {# í˜ì´ì§€ ì¶œë ¥ ë£¨í”„ (ìµœëŒ€ 5ê°œ ë³´ì¥) #}
  {% for p in range(start_page, end_page + 1) %}
    {% if p == page %}
      <span class="current-page">{{ p }}</span>
    {% else %}
      <a href="/{{ system }}/admin/{{ p }}">{{ p }}</a>
    {% endif %}
  {% endfor %}

  {% if page < total_pages %}
    <a href="/{{ system }}/admin/{{ page + 1 }}">Next Â»</a>
  {% endif %}
</div>

</div></div>


<!-- í•˜ë‹¨ ì˜ì—­ (ë¡œê³  + ì €ì‘ê¶Œ ë¬¸êµ¬ ìˆ˜í‰ ì •ë ¬) -->
<div style="
  display: flex;
  justify-content: center;    /* ì „ì²´ ê¸°ì¤€: ê°€ìš´ë° ì •ë ¬ */
  align-items: center;        /* ìˆ˜ì§ ì •ë ¬ ë§ì¶¤ */
  width: 100%;
  padding: 20px 40px;
  box-sizing: border-box;
  font-size: 13px;
  color: #555;
  position: relative;
">

  <!-- ìƒˆë‹´ë¡œê³  -->
  <div style="
    flex: 0 0 auto;
    text-align: center;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  ">
    <img src="https://www.saedam.org/img_sub/logo.gif" alt="ë¡œê³ " style="height: 48px; width: auto;">
  </div>

  <!-- ì¹´í”¼ë¼ì´íŠ¸ ë¬¸êµ¬ -->
<div style="display: flex; justify-content: center; position: relative;">
  <div style="transform: translateX(720px); text-align: left;">
    Instructor Career Certificate Issuance System<br>
    CopyrightÂ©(ì‚¬)ìƒˆë‹´ì²­ì†Œë…„êµìœ¡ë¬¸í™”ì›. All Rights Reserved.
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    const deleteButtons = document.querySelectorAll(".btn-delete");
    deleteButtons.forEach(function (btn) {
      btn.addEventListener("click", function (e) {
        if (!confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          e.preventDefault();
        }
      });
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const generateButtons = document.querySelectorAll(".generate-btn");

    generateButtons.forEach(function (btn) {
      btn.addEventListener("click", function (e) {
        // ì´ë¯¸ ì²˜ë¦¬ ì¤‘ì´ë©´ ë§‰ê¸°
        if (btn.dataset.processing === "true") {
          e.preventDefault();
          return;
        }

        btn.textContent = "..ing";     // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        btn.style.pointerEvents = "none";  // ì¶”ê°€ í´ë¦­ ë°©ì§€
        btn.dataset.processing = "true";   // ì¤‘ë³µ ë°©ì§€ í”Œë˜ê·¸
      });
    });
  });
</script>

  <!-- í”Œë˜ì‹œ ë©”ì‹œì§€ -->
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <script>
        alert("{{ messages[0] }}");
      </script>
    {% endif %}
  {% endwith %}


<script>      // ìºë¦­í„° ìœ„ì¹˜ ì„¤ì • ë° ë“œë˜ê·¸ë§Œ ê°€ëŠ¥ ======================

document.addEventListener("DOMContentLoaded", function () {
  const container = document.getElementById("floatingContainer");
  const alertImg = document.getElementById("floatingAlert");
  if (!container || !alertImg) return;

  // ëœë¤ ì´ë¯¸ì§€ ì„¤ì •
  const randomNum = Math.floor(Math.random() * 7) + 1;
  alertImg.src = `https://www.saedam.org/img_sub/issue_alert0${randomNum}.png`;

  // âœ… ê³ ì •ëœ ìœ„ì¹˜ ê¸°ì¤€ì—ì„œ ë“œë˜ê·¸ ì²˜ë¦¬
  let isDragging = false;
  let offsetX = 0;
  let offsetY = 0;

  alertImg.addEventListener("mousedown", function (e) {
    isDragging = true;
    container.style.transition = "none";
    const rect = container.getBoundingClientRect(); // fixed ê¸°ì¤€ ìœ„ì¹˜
    offsetX = e.clientX - rect.left;
    offsetY = e.clientY - rect.top;
    e.preventDefault();
  });

  document.addEventListener("mousemove", function (e) {
    if (isDragging) {
      container.style.left = `${e.clientX - offsetX}px`;
      container.style.top = `${e.clientY - offsetY}px`;
    }
  });

  document.addEventListener("mouseup", function () {
    if (isDragging) {
      isDragging = false;
      container.style.transition = "top 2s ease-in-out, left 2s ease-in-out";
    }
  });
});
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const editButtons = document.querySelectorAll(".btn.save");
    editButtons.forEach(function (btn) {
      btn.addEventListener("click", function (e) {
        if (!confirm("ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          e.preventDefault();
        }
      });
    });
  });
</script>

<div id="emailModal" style="display:none; position:fixed; top:30%; left:50%; transform:translate(-50%, -50%);
  background:white; border:1px solid #ccc; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.3); z-index:9999;">
  <h4>ë©”ì¼ì£¼ì†Œ ìˆ˜ì •</h4>
  <input type="text" id="emailInput" style="width:100%; padding:8px; margin-top:8px;">
  <div style="margin-top:12px; text-align:right;">
    <button onclick="saveEmail()">ì €ì¥</button>
    <button onclick="closeModal()">ì·¨ì†Œ</button>
  </div>
</div>

<script>// ì´ë©”ì¼ ìˆ˜ì •
  let currentInput = null;
  let currentText = null;

  function editEmail(icon) {
    const td = icon.closest('td');
    currentInput = td.querySelector('.email-input');
    currentText = td.querySelector('.email-text');

    if (currentInput && currentText) {
      document.getElementById('emailInput').value = currentInput.value;
      document.getElementById('emailModal').style.display = 'block';
    }
  }

  function saveEmail() {
    const newEmail = document.getElementById('emailInput').value.trim();
    if (currentInput && currentText) {
      currentInput.value = newEmail;  // ğŸ” ìˆ¨ê²¨ì§„ input ê°’ ìˆ˜ì •
      currentText.textContent = newEmail;  // ğŸ“ í™”ë©´ í…ìŠ¤íŠ¸ ìˆ˜ì •
    }
    closeModal();
  }

  function closeModal() {
    document.getElementById('emailModal').style.display = 'none';
  }
</script>



<br><br><br><br>
</body>
</html>
